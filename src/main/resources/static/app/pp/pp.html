<div>
  <timer interval="1000">{{mminutes}}:{{sseconds}}</timer>
  <table class="table table-hover">
    <tbody>
      <tr ng-repeat="dev in ctrl.getDevs() | orderBy:'name'" ng-class="{success: dev.voted, danger: !dev.voted}">
        <td>
          <div>
            {{dev.name}}
            <button type="button"
                    class="btn btn-default btn-sm"
                    ng-click="ctrl.deleteDev(dev)">
              <span class="glyphicon glyphicon-remove"></span>
            </button>
          </div>
        </td>
        <td>
          <div class="row">
            <div class="col-md-1" ng-repeat="choice in ctrl.getTeam().choices">
              <button type="button"
                      class="btn btn-default"
                      ng-class="{'btn-success': (ctrl.getTeam().allVoted || dev.isMe) && dev.vote==choice}"
                      ng-disabled="!dev.isMe"
                      ng-click="ctrl.vote(choice)">{{choice}}
              </button>
            </div>
          </div>
        </td>
      </tr>
    </tbody>
    <tfoot>
      <tr ng-class="{success: ctrl.getTeam().allVoted, danger: !ctrl.getTeam().allVoted}">
        <td>{{ctrl.getTeam().name}}
          <button type="button"
                  class="btn btn-default btn-sm"
                  ng-click="ctrl.cleanVotes()">
            <span class="glyphicon glyphicon-refresh"></span>
          </button>
          <button type="button"
                  class="btn btn-default btn-sm"
                  ng-disabled="ctrl.isConfingVisible"
                  ng-click="ctrl.showConfig()">
            <span class="glyphicon glyphicon-cog"></span>
          </button>
        </td>
        <td>
          <div class="row">
            <div class="col-md-1" ng-repeat="choice in ctrl.getTeam().choices">
              <button type="button"
                      class="btn btn-default"
                      ng-class="{'btn-success': ctrl.isVoteMax(choice)}"
                      ng-disabled="true">{{ctrl.getNbVotes(choice)}}
              </button>
            </div>
          </div>
        </td>
      </tr>
    </tfoot>
  </table>
  <form ng-submit="ctrl.setChoices()" ng-show="ctrl.isConfingVisible">
    <input type="text"
           id="conf"
           ng-model="ctrl.choisesAsString"
           autofocus/>
    <button type="submit">
      <span class="glyphicon glyphicon-ok"></span>
    </button>
  </form>
  </div>
</div>